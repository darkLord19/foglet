<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fog Desktop</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="bg-orb orb-a"></div>
  <div class="bg-orb orb-b"></div>

  <div class="shell">
    <header class="topbar">
      <div>
        <h1>Fog Desktop</h1>
        <p>Local-first session orchestration with branch-safe agents.</p>
      </div>
      <div class="meta">
        <span class="badge" id="daemon-badge">fogd: connecting</span>
        <span class="badge" id="version-badge">version: -</span>
      </div>
    </header>

    <main class="layout">
      <section class="panel panel-composer">
        <h2>New Session</h2>
        <form id="new-session-form" class="form-grid">
          <label>Repository
            <select id="new-repo"></select>
          </label>
          <label>Tool
            <select id="new-tool">
              <option value="">default</option>
            </select>
          </label>
          <label>Model
            <input id="new-model" placeholder="optional">
          </label>
          <label>Branch Name
            <input id="new-branch" placeholder="optional">
          </label>
          <label>Auto PR
            <select id="new-autopr">
              <option value="false">false</option>
              <option value="true">true</option>
            </select>
          </label>
          <label class="span-2">Prompt
            <textarea id="new-prompt" rows="6" placeholder="Describe the task for this session"></textarea>
          </label>
          <div class="actions span-2">
            <button id="new-submit" type="submit">Create Session</button>
            <span class="status" id="new-status"></span>
          </div>
        </form>

        <h3>Follow-up</h3>
        <form id="followup-form" class="form-grid">
          <label>Session
            <select id="followup-session"></select>
          </label>
          <label class="span-2">Prompt
            <textarea id="followup-prompt" rows="4" placeholder="Add another instruction in the same branch"></textarea>
          </label>
          <div class="actions span-2">
            <button id="followup-submit" type="submit">Send Follow-up</button>
            <span class="status" id="followup-status"></span>
          </div>
        </form>
      </section>

      <section class="panel panel-sessions">
        <div class="panel-head">
          <h2>Active Sessions</h2>
          <div class="kpi">
            <span id="kpi-active">0 active</span>
            <span id="kpi-total">0 total</span>
          </div>
        </div>
        <div id="sessions-list" class="session-list"></div>
      </section>

      <section class="panel">
        <h2>Repositories</h2>
        <div class="actions">
          <button id="discover-btn" type="button" class="ghost">Discover</button>
          <button id="import-btn" type="button">Import Selected</button>
          <span class="status" id="repos-status"></span>
        </div>
        <div id="discover-list" class="box-list">No discovered repos yet.</div>
        <h3>Managed Repos</h3>
        <div id="managed-list" class="box-list">Loadingâ€¦</div>
      </section>

      <section class="panel">
        <h2>Settings</h2>
        <form id="settings-form" class="form-grid">
          <label>Default Tool
            <select id="settings-tool"></select>
          </label>
          <label>Branch Prefix
            <input id="settings-prefix" placeholder="fog">
          </label>
          <label class="span-2">GitHub PAT Status
            <input id="settings-pat-status" disabled>
          </label>
          <div class="actions span-2">
            <button id="settings-submit" type="submit">Save Settings</button>
            <span class="status" id="settings-status"></span>
          </div>
        </form>

        <h3>Cloud Pairing</h3>
        <form id="cloud-form" class="form-grid">
          <label class="span-2">Cloud URL
            <input id="cloud-url" placeholder="https://fog-cloud.example">
          </label>
          <label>Pair Code
            <input id="cloud-code" placeholder="AB12CD34">
          </label>
          <div class="actions">
            <button id="cloud-save" type="button" class="ghost">Save URL</button>
            <button id="cloud-pair" type="button">Pair</button>
          </div>
          <label>Team ID
            <input id="cloud-team" placeholder="T123">
          </label>
          <label>Slack User ID
            <input id="cloud-user" placeholder="U123">
          </label>
          <div class="actions span-2">
            <button id="cloud-unpair" type="button" class="ghost">Unpair</button>
            <span class="status" id="cloud-status"></span>
          </div>
          <label class="span-2">Device
            <input id="cloud-device" disabled>
          </label>
        </form>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
